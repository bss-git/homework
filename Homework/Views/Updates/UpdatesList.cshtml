@model IEnumerable<Homework.Updates.Dto.UpdateViewModel>

<form asp-action="postUpdate" asp-controller="updates">
    <div class="input-group mb-3">
        <input id="message-input" type="text" name="message" class="form-control" placeholder="Введите сообщение" aria-label="Введите сообщение" aria-describedby="basic-addon2">
        <div class="input-group-append">
            <input id="send-update" type="submit" value="Отправить" class="btn btn-outline-primary" />
        </div>
    </div>
</form>

<div class="list-group" id="updates-list">
    @foreach (var message in Model)
    {
        <div class="list-group-item flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">@message.UserName</h5>
                <small>@message.Timestamp</small>
            </div>
            <p class="mb-1">@message.Message</p>
        </div>
    }
</div>

@section Scripts {
    <script src="~/updates/sendUpdate.js" type="text/javascript"></script>
    <script src="~/updates/signalR.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aspnet-signalr/1.0.27/signalr.min.js" type="text/javascript"></script>
}